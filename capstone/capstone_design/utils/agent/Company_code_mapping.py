from pykrx import stock

# 기업 리스트 입력
industries_raw = """
자동차 및 부품 산업,성우하이텍,15750, "화승알앤에이;현대모비스;한온시스템;HL만도"
건설 및 건자재 산업,고려제강,2240, "풍산;KG스틸;대한제강;세아특수강"
금융 및 증권 산업,미래에셋증권,6800, "NH투자증권;한국금융지주;삼성증권;키움증권"
바이오 및 헬스케어 산업,셀바스헬스케어,208370, "서울리거;인터로조;시지메트텍;인바디"
우주 및 항공 산업,AP위성,211270, "제노코;인텔리안테크;이노와이어리스;기가레인"
로봇 및 자동화 산업,로보로보,215100, "아이비김영;YBM넷;이퓨쳐;골드앤에스"
인공지능 및 소프트웨어 산업,폴라리스AI,39980, "오파스넷;이글루;소프트센;오상자이엘"
미디어 및 콘텐츠 산업,데브시스터즈,194480, "웹젠;한빛소프트;넥슨게임즈;위메이드플레이"
반도체,메카로,241770, "KX하이텍;에스앤에스텍;덕산하이메탈;디엔에프"
기타 산업,한선엔지니어링,452280, "이렘;케이에스피;아스플로;비엠티"
"""

# 전체 티커 목록
tickers = stock.get_market_ticker_list(market="ALL")
name_to_code = {stock.get_market_ticker_name(t): t for t in tickers}

# 결과 매핑
for line in industries_raw.strip().split("\n"):
    sector, main_name, main_code, related_raw = [x.strip() for x in line.split(",")]
    related_names = related_raw.replace('"', '').split(";")
    print(f"\n📦 업종: {sector}\n- 대표기업: {main_name} ({main_code})")
    print("- 관련기업:")
    for name in related_names:
        code = name_to_code.get(name, "❌ 매핑 실패")
        print(f"  · {name}: {code}")


r"""
 업종: 자동차 및 부품 산업
- 대표기업: 성우하이텍 (15750)
- 관련기업:
  · 화승알앤에이: 378850
  · 현대모비스: 012330
  · 한온시스템: 018880
  · HL만도: 204320

📦 업종: 건설 및 건자재 산업
- 대표기업: 고려제강 (2240)
- 관련기업:
  · 풍산: 103140
  · KG스틸: 016380
  · 대한제강: 084010
  · 세아특수강: 019440

📦 업종: 금융 및 증권 산업
- 대표기업: 미래에셋증권 (6800)
- 관련기업:
  · NH투자증권: 005940
  · 한국금융지주: 071050
  · 삼성증권: 016360
  · 키움증권: 039490

📦 업종: 바이오 및 헬스케어 산업
- 대표기업: 셀바스헬스케어 (208370)
- 관련기업:
  · 서울리거: 043710
  · 인터로조: 119610
  · 시지메트텍: ❌ 매핑 실패
  · 인바디: 041830

📦 업종: 우주 및 항공 산업
- 대표기업: AP위성 (211270)
- 관련기업:
  · 제노코: 361390
  · 인텔리안테크: 189300
  · 이노와이어리스: 073490
  · 기가레인: 049080

📦 업종: 로봇 및 자동화 산업
- 대표기업: 로보로보 (215100)
- 관련기업:
  · 아이비김영: 339950
  · YBM넷: 057030
  · 이퓨쳐: 134060
  · 골드앤에스: 035290

📦 업종: 인공지능 및 소프트웨어 산업
- 대표기업: 폴라리스AI (39980)
- 관련기업:
  · 오파스넷: 173130
  · 이글루: 067920
  · 소프트센: 032680
  · 오상자이엘: 053980

📦 업종: 미디어 및 콘텐츠 산업
- 대표기업: 데브시스터즈 (194480)
- 관련기업:
  · 웹젠: 069080
  · 한빛소프트: 047080
  · 넥슨게임즈: 225570
  · 위메이드플레이: 123420

📦 업종: 반도체
- 대표기업: 메카로 (241770)
- 관련기업:
  · KX하이텍: 052900
  · 에스앤에스텍: 101490
  · 덕산하이메탈: 077360
  · 디엔에프: 092070

📦 업종: 기타 산업
- 대표기업: 한선엔지니어링 (452280)
- 관련기업:
  · 이렘: 009730
  · 케이에스피: 073010
  · 아스플로: 159010
  · 비엠티: 086670
"""